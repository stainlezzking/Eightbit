<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content=" Start building your future with the best investment plaform out there">
  <meta name="author" content="Eight-bit CEO firm investment">
  <title> Confirm payment</title>
  <!-- Favicon -->
  <link rel="icon" href="static/images/favicon.png" type="image/png">
  <!-- BOOTSTRAP this upload is to style the form -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-uWxY/CJNBR+1zjPWmfnSnVxwRheevXITnMqoEIeG1LJrdI0GlVs/9cVSyPYXdcSF" crossorigin="anonymous">
  <!-- Icons -->
  <link rel="stylesheet" href="static/css/fontawesome/css/all.min.css" type="text/css">
  <!-- Page plugins -->
  <!-- Argon CSS -->
  <link rel="stylesheet" href="static/css/profile/argon.css" type="text/css">
  <style>
   
  </style>
</head>

<body>
  <% if(messages.error){ %>
    <div class="modal fade show" style="display: block;" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="exampleModalLabel">
                   Confirm deposit
                </h5>
              <button type="button" class="btn-close text-warning"  style="border:none;" data-bs-dismiss="modal" aria-label="Close">
               
              </button>
            </div>
            <div class="modal-body">
            <%= messages.error %>
            </div>
          </div>
        </div>
      </div>
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-kQtW33rZJAHjgefvhyyzcGF3C5TFyBQBA13V1RKPf4uH+bwyzQxZ6CmMZHmNBEfJ" crossorigin="anonymous"></script>
      <script>
        var myModal = new bootstrap.Modal(document.getElementById('exampleModal'))
        myModal.show()
    </script>
    
<%  }else{ %>
    <%- include("partials/modal.ejs") -%>

<%   } %>
  
<!-- ££££££ -->
<!--  NAV HEADER HERE -->
<%- include("partials/nav.ejs") -%>
<!-- NAV ENDING -->
<div class="container-fluid col-md-6 mx-auto mt-4">
  <small class="d-block text-center"> Upload the screenshot of your deposit for confirmation</small>
  <h3 class="header bg-purple text-white text-center mb-3 rounded p-2">
     please upload a clear receipt
  </h3>
  <div class="content_area  mx-auto" style="max-width: 200px; height: 350px;">
    <img src=""  id="frame" alt="confirmation receipt" class="img-fluid">
  </div>
  <form method="POST" enctype="multipart/form-data">
    <div class="input-group mb-3">
      <input type="file" name="receipt" accept="image/png,image/jpeg"  class="form-control" id="upload" onchange="preview()">
    </div>
    <div class="input-group mb-3">
      <input type="Number" name="amount" class="form-control" aria-label="Dollar amount (with dot and two decimal places)">
      <span class="input-group-text">0.00</span>
      <span class="input-group-text">$</span>
    </div>
    <button type="submit" class="btn btn-success mx-auto d-block"> Upload</button>
  </form>
</div>

<script>
   //     Modal initializaation
if(!"<%= messages.error %>"){
    var myModal = new bootstrap.Modal(document.getElementById('exampleModal'))
}
 
  function preview() {
      frame.src = URL.createObjectURL(event.target.files[0]);
  }
 const form = document.querySelector("form")
 form.addEventListener("submit", function(event){
   event.preventDefault()
   if(form.receipt.value && Number(form.amount.value)){
     form.submit()
   }else{
    message = "Make sure your receipt is selected and you have the correct deposits amount"
    title = "Upload Receipt"
    document.querySelector('.modal-body').innerText = message
            document.querySelector('.modal-title').innerText = title
            myModal.show()
   }
 })


</script>


</body>


<!--  FOOTER -->
<%- include("partials/closing.ejs") -%>